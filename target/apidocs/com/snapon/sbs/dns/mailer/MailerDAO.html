<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Jan 06 09:53:39 GMT 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MailerDAO (API for DNSnet DNSnet Mailer Service (dns-mailer) 1.0.0-SNAPSHOT)</title>
<meta name="date" content="2014-01-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MailerDAO (API for DNSnet DNSnet Mailer Service (dns-mailer) 1.0.0-SNAPSHOT)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MailerDAO.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/snapon/sbs/dns/mailer/InvalidStateException.html" title="class in com.snapon.sbs.dns.mailer"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/snapon/sbs/dns/mailer/MailerHandlerStatus.html" title="enum in com.snapon.sbs.dns.mailer"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/snapon/sbs/dns/mailer/MailerDAO.html" target="_top">Frames</a></li>
<li><a href="MailerDAO.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.snapon.sbs.dns.mailer</div>
<h2 title="Class MailerDAO" class="title">Class MailerDAO</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.snapon.sbs.dns.mailer.MailerDAO</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MailerDAO</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Class to help pass jobs objects to and from the database.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#ENTRY_FAILED">ENTRY_FAILED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#ENTRY_PRESENT">ENTRY_PRESENT</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#MailerDAO()">MailerDAO</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Blob.html?is-external=true" title="class or interface in java.sql">Blob</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#getEmailImage(java.lang.String, java.lang.String)">getEmailImage</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tagName,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pathName)</code>
<div class="block">This method return a blob image that is used in each email that needs tag replacement.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#getEmailTags(long, java.sql.Connection)">getEmailTags</a></strong>(long&nbsp;jobId,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</a>&nbsp;conn)</code>
<div class="block">This method retrieves a list of email tags based on the job id.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#getTemplateFile(int, java.lang.String)">getTemplateFile</a></strong>(int&nbsp;templateId,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schema)</code>
<div class="block">This method returns the html string that is need to populate the emails.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#getTemplateFile(int, java.lang.String, java.sql.Connection)">getTemplateFile</a></strong>(int&nbsp;templateId,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schema,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</a>&nbsp;conn)</code>
<div class="block">This method returns the html string that is need to populate the emails.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#getTemplates(java.util.Map)">getTemplates</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;securityClasses)</code>
<div class="block">This method returns a map of templates the user is allowed to see based on their security class, 
 schema, country id and language id.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#insertBlackList(long)">insertBlackList</a></strong>(long&nbsp;uuid)</code>
<div class="block">This method inserts an entry into the EMAIL_BLACKLIST table</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#insertEmailTags(long, java.util.List)">insertEmailTags</a></strong>(long&nbsp;jobId,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;&nbsp;tags)</code>
<div class="block">This method inserts email tags into the database ONLY if the job entry was successful.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#insertJob(com.snapon.sbs.dns.emailsettings.EmailJob)">insertJob</a></strong>(<a href="../../../../../com/snapon/sbs/dns/emailsettings/EmailJob.html" title="class in com.snapon.sbs.dns.emailsettings">EmailJob</a>&nbsp;job)</code>
<div class="block">This method inserts a job into the database</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#insertTemplate(java.util.Map)">insertTemplate</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;templateDetails)</code>
<div class="block">This method will add a template into the EMAIL_TEMPLATE table that has been created
 by a user of an application.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#removeFromBlackList(java.util.Map)">removeFromBlackList</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;whiteList)</code>
<div class="block">This method will remove an entry from the EMAIL_BLACKLIST table
 re-subscribing the email address to a particular email type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/snapon/sbs/dns/emailsettings/EmailJob.html" title="class in com.snapon.sbs.dns.emailsettings">EmailJob</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#selectByJobId(long)">selectByJobId</a></strong>(long&nbsp;jobId)</code>
<div class="block">Returns an emailjob with the specified job id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/snapon/sbs/dns/mailer/MailerDAO.html#updateEmailRecipient(long)">updateEmailRecipient</a></strong>(long&nbsp;uuid)</code>
<div class="block">This method will update the email recipient table with the exact time and date
 the email was opened (i.e.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ENTRY_FAILED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENTRY_FAILED</h4>
<pre>public static final&nbsp;int ENTRY_FAILED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.snapon.sbs.dns.mailer.MailerDAO.ENTRY_FAILED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ENTRY_PRESENT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ENTRY_PRESENT</h4>
<pre>public static final&nbsp;int ENTRY_PRESENT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.snapon.sbs.dns.mailer.MailerDAO.ENTRY_PRESENT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MailerDAO()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MailerDAO</h4>
<pre>public&nbsp;MailerDAO()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="selectByJobId(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>selectByJobId</h4>
<pre>public static&nbsp;<a href="../../../../../com/snapon/sbs/dns/emailsettings/EmailJob.html" title="class in com.snapon.sbs.dns.emailsettings">EmailJob</a>&nbsp;selectByJobId(long&nbsp;jobId)
                              throws com.alisonassociates.npd.workflowmanager.ServiceException</pre>
<div class="block">Returns an emailjob with the specified job id</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>jobId</code> - the id to look for</dd>
<dt><span class="strong">Returns:</span></dt><dd>the email job which may be null if no job was found</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>com.alisonassociates.npd.workflowmanager.ServiceException</code> - if a database error occurs</dd></dl>
</li>
</ul>
<a name="insertJob(com.snapon.sbs.dns.emailsettings.EmailJob)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertJob</h4>
<pre>public static&nbsp;long&nbsp;insertJob(<a href="../../../../../com/snapon/sbs/dns/emailsettings/EmailJob.html" title="class in com.snapon.sbs.dns.emailsettings">EmailJob</a>&nbsp;job)
                      throws com.alisonassociates.npd.workflowmanager.ServiceException,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method inserts a job into the database</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>job</code> - The job to insert into the EMAIL_JOB table</dd>
<dt><span class="strong">Returns:</span></dt><dd>the job id if successfully added into the db, -999 if there was an error</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>com.alisonassociates.npd.workflowmanager.ServiceException</code> - if anything goes wrong with the SQL</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs with the clob writing</dd></dl>
</li>
</ul>
<a name="removeFromBlackList(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromBlackList</h4>
<pre>public static final&nbsp;int&nbsp;removeFromBlackList(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;whiteList)</pre>
<div class="block">This method will remove an entry from the EMAIL_BLACKLIST table
 re-subscribing the email address to a particular email type.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>whiteList</code> - the list of email address that need removing with the email type</dd>
<dt><span class="strong">Returns:</span></dt><dd>an int based on the success or failure of the operation</dd></dl>
</li>
</ul>
<a name="insertBlackList(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertBlackList</h4>
<pre>public static final&nbsp;int&nbsp;insertBlackList(long&nbsp;uuid)</pre>
<div class="block">This method inserts an entry into the EMAIL_BLACKLIST table</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uuid</code> - the unique id needed to add the correct entry</dd>
<dt><span class="strong">Returns:</span></dt><dd>the status of the entry, needed for feedback</dd></dl>
</li>
</ul>
<a name="updateEmailRecipient(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateEmailRecipient</h4>
<pre>public static final&nbsp;void&nbsp;updateEmailRecipient(long&nbsp;uuid)</pre>
<div class="block">This method will update the email recipient table with the exact time and date
 the email was opened (i.e. when the tracking servlet is activated) ONLY if
 the email hasnt already been opened.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uuid</code> - the uuid to update</dd></dl>
</li>
</ul>
<a name="getTemplates(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTemplates</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;&nbsp;getTemplates(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;securityClasses)</pre>
<div class="block">This method returns a map of templates the user is allowed to see based on their security class, 
 schema, country id and language id.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>securityClasses</code> - the map containing the parsed json string from the application</dd>
<dt><span class="strong">Returns:</span></dt><dd>a map containing the template id, template file and descripion</dd></dl>
</li>
</ul>
<a name="getTemplateFile(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTemplateFile</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTemplateFile(int&nbsp;templateId,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schema)</pre>
<div class="block">This method returns the html string that is need to populate the emails.
 The tags within the email are to then be substituted by the mailer handler.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>templateId</code> - the template id to look for</dd><dd><code>schema</code> - the schema the template is associated with</dd>
<dt><span class="strong">Returns:</span></dt><dd>the html template in string format that we can parse</dd></dl>
</li>
</ul>
<a name="getTemplateFile(int, java.lang.String, java.sql.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTemplateFile</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTemplateFile(int&nbsp;templateId,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schema,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</a>&nbsp;conn)</pre>
<div class="block">This method returns the html string that is need to populate the emails.
 The tags within the email are to then be substituted by the mailer handler.<p>
 This method must have a valid connection and not be passed null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>templateId</code> - the template id to look for</dd><dd><code>schema</code> - the schema the template is associated with</dd><dd><code>conn</code> - the current connection</dd>
<dt><span class="strong">Returns:</span></dt><dd>the html template in string format that we can parse</dd></dl>
</li>
</ul>
<a name="insertTemplate(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertTemplate</h4>
<pre>public static&nbsp;long&nbsp;insertTemplate(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;templateDetails)</pre>
<div class="block">This method will add a template into the EMAIL_TEMPLATE table that has been created
 by a user of an application.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>templateDetails</code> - the map containing the details</dd>
<dt><span class="strong">Returns:</span></dt><dd>either the template id if successful or -999 if there was an error</dd></dl>
</li>
</ul>
<a name="insertEmailTags(long, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertEmailTags</h4>
<pre>public static&nbsp;void&nbsp;insertEmailTags(long&nbsp;jobId,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;&nbsp;tags)</pre>
<div class="block">This method inserts email tags into the database ONLY if the job entry was successful.
 We then retrieve these tags and use them for the substitution in mailer handler</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>jobId</code> - the job id these tags are related to</dd><dd><code>tags</code> - the tags collection</dd></dl>
</li>
</ul>
<a name="getEmailTags(long, java.sql.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEmailTags</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getEmailTags(long&nbsp;jobId,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</a>&nbsp;conn)</pre>
<div class="block">This method retrieves a list of email tags based on the job id. As each job id is unique
 in the email tag table this method only needs to return a map rather than a list of maps.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>jobId</code> - the job id relating to the email tags</dd><dd><code>conn</code> - the current connection</dd>
<dt><span class="strong">Returns:</span></dt><dd>a populated map of tag names and tag values, or null if something fails</dd></dl>
</li>
</ul>
<a name="getEmailImage(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getEmailImage</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/sql/Blob.html?is-external=true" title="class or interface in java.sql">Blob</a>&nbsp;getEmailImage(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tagName,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pathName)</pre>
<div class="block">This method return a blob image that is used in each email that needs tag replacement.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tagName</code> - the tagname to look for</dd><dd><code>pathName</code> - the pathName this request came from</dd>
<dt><span class="strong">Returns:</span></dt><dd>the blob if the tagname exists or null</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MailerDAO.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>Â©2001-2013 Snap-on Business Solutions. All Rights 							Reserved.</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/snapon/sbs/dns/mailer/InvalidStateException.html" title="class in com.snapon.sbs.dns.mailer"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/snapon/sbs/dns/mailer/MailerHandlerStatus.html" title="enum in com.snapon.sbs.dns.mailer"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/snapon/sbs/dns/mailer/MailerDAO.html" target="_top">Frames</a></li>
<li><a href="MailerDAO.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>
